{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://schemas.acme.com/email/email-received/1.0.0",
  "type": "object",
  "title": "Email Received Event",
  "description": "Raw email received event for processing",
  "additionalProperties": false,
  "properties": {
    "@context": {
      "type": "object",
      "description": "JSON-LD context for semantic meaning"
    },
    "message_id": {
      "type": "string",
      "description": "Unique email message ID"
    },
    "from": {
      "type": "string",
      "format": "email",
      "description": "Sender email address"
    },
    "to": {
      "type": "array",
      "items": { "type": "string", "format": "email" },
      "description": "Recipient email addresses"
    },
    "cc": {
      "type": "array",
      "items": { "type": "string", "format": "email" },
      "description": "CC email addresses"
    },
    "subject": {
      "type": "string",
      "description": "Email subject line"
    },
    "body": {
      "type": "string",
      "description": "Email body content (text or HTML)"
    },
    "timestamp": {
      "type": "string",
      "format": "date-time",
      "description": "Email received timestamp"
    },
    "provider": {
      "type": "string",
      "enum": ["gmail", "outlook", "exchange", "other"],
      "description": "Email provider"
    },
    "attachments": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "filename": { "type": "string" },
          "content_type": { "type": "string" },
          "size_bytes": { "type": "integer" }
        }
      },
      "description": "Email attachments metadata"
    }
  },
  "required": [
    "@context",
    "message_id",
    "from",
    "subject",
    "body",
    "timestamp"
  ]
}
