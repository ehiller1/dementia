{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://schemas.acme.com/marketing/campaign-pause-decision/1.0.0",
  "title": "Campaign Pause Decision",
  "description": "Decision to pause a marketing campaign (translated from inventory signals)",
  "type": "object",
  "additionalProperties": false,
  "properties": {
    "@context": {
      "type": "object",
      "description": "JSON-LD context",
      "properties": {
        "schema": { "type": "string", "const": "https://schema.org/" },
        "ex": { "type": "string", "const": "https://example.com/ontology#" }
      }
    },
    "campaign": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "sku": { "type": "string", "pattern": "^[A-Z]{3}-[0-9]{4}$" },
        "retailer": { "type": "string" },
        "channels": {
          "type": "array",
          "items": { "type": "string" },
          "description": "Channels to pause"
        }
      },
      "required": ["sku", "retailer"]
    },
    "decision": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "action": {
          "type": "string",
          "enum": ["pause", "reduce_spend", "shift_to_awareness"]
        },
        "spend_reduction_usd": {
          "type": "number",
          "description": "Amount to reduce (negative)"
        },
        "effective_immediately": {
          "type": "boolean"
        }
      },
      "required": ["action", "effective_immediately"]
    },
    "rationale": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "reason": { "type": "string", "minLength": 10 },
        "inventory_risk_days": { "type": "integer", "minimum": 0 },
        "estimated_duration_days": { "type": "integer", "minimum": 0 }
      },
      "required": ["reason"]
    },
    "constraints": {
      "type": "object",
      "properties": {
        "resume_when_inventory_above": { "type": "integer" },
        "max_pause_days": { "type": "integer" }
      }
    }
  },
  "required": ["@context", "campaign", "decision", "rationale"]
}
